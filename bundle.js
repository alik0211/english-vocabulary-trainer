(()=>{var t={705:(t,e,r)=>{var n=r(639).Symbol;t.exports=n},636:(t,e,r)=>{var n=r(545),o=r(694),i=r(469),a=r(144),u=r(776),s=r(719),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),l=!r&&o(t),f=!r&&!l&&a(t),p=!r&&!l&&!f&&s(t),y=r||l||f||p,d=y?n(t.length,String):[],b=d.length;for(var v in t)!e&&!c.call(t,v)||y&&("length"==v||f&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||u(v,b))||d.push(v);return d}},932:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},151:(t,e,r)=>{var n=r(278),o=r(480);t.exports=function(t){return o(n(t))}},239:(t,e,r)=>{var n=r(705),o=r(607),i=r(333),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},454:(t,e,r)=>{var n=r(239),o=r(5);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},749:(t,e,r)=>{var n=r(239),o=r(780),i=r(5),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},280:(t,e,r)=>{var n=r(726),o=r(916),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},877:t=>{var e=Math.floor,r=Math.random;t.exports=function(t,n){return t+e(r()*(n-t+1))}},127:(t,e,r)=>{var n=r(480),o=r(628);t.exports=function(t){return n(o(t))}},545:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},518:t=>{t.exports=function(t){return function(e){return t(e)}}},415:(t,e,r)=>{var n=r(932);t.exports=function(t,e){return n(e,(function(e){return t[e]}))}},278:t=>{t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},957:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},607:(t,e,r)=>{var n=r(705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[u]=r:delete t[u]),o}},776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},726:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},916:(t,e,r)=>{var n=r(569)(Object.keys,Object);t.exports=n},167:(t,e,r)=>{t=r.nmd(t);var n=r(957),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&n.process,u=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u},333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},569:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},639:(t,e,r)=>{var n=r(957),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},480:(t,e,r)=>{var n=r(877);t.exports=function(t,e){var r=-1,o=t.length,i=o-1;for(e=void 0===e?o:e;++r<e;){var a=n(r,i),u=t[a];t[a]=t[r],t[r]=u}return t.length=e,t}},694:(t,e,r)=>{var n=r(454),o=r(5),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},469:t=>{var e=Array.isArray;t.exports=e},612:(t,e,r)=>{var n=r(560),o=r(780);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},144:(t,e,r)=>{t=r.nmd(t);var n=r(639),o=r(62),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,u=a&&a.exports===i?n.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;t.exports=s},560:(t,e,r)=>{var n=r(239),o=r(218);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},5:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},719:(t,e,r)=>{var n=r(749),o=r(518),i=r(167),a=i&&i.isTypedArray,u=a?o(a):n;t.exports=u},674:(t,e,r)=>{var n=r(636),o=r(280),i=r(612);t.exports=function(t){return i(t)?n(t):o(t)}},983:(t,e,r)=>{var n=r(151),o=r(127),i=r(469);t.exports=function(t){return(i(t)?n:o)(t)}},62:t=>{t.exports=function(){return!1}},628:(t,e,r)=>{var n=r(415),o=r(674);t.exports=function(t){return null==t?[]:n(t,o(t))}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=r(983),e=r.n(t),n=/^[A-Za-z]*$/,o=["apple","function","timeout","task","application","data","tragedy","sun","symbol","button","software"];function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===i(o)?o:String(o)),n)}var o}var c=function(t){return t[t.QUESTION_SUCCESS=0]="QUESTION_SUCCESS",t[t.LETTER_SUCCESS=1]="LETTER_SUCCESS",t[t.QUESTION_FAIL=2]="QUESTION_FAIL",t[t.LETTER_FAIL=3]="LETTER_FAIL",t[t.TRAINING_COMPLETE=4]="TRAINING_COMPLETE",t}({});const l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.QUESTIONS_COUNT=6,this.questions=this.generateQuestions(),this.currentQuestionIndex=0}var r,n;return r=t,(n=[{key:"generateQuestions",value:function(){return(t=this.QUESTIONS_COUNT,e()([].concat(o)).slice(0,t)).map((function(t){return{word:t,errors:0,answer:[],letters:e()(a(t))}}));var t}},{key:"isTrainingComplete",get:function(){return this.currentQuestionIndex===this.QUESTIONS_COUNT}},{key:"getCurrentQuestion",value:function(){return this.questions[this.currentQuestionIndex]}},{key:"selectLetter",value:function(t){if(this.isTrainingComplete)return c.TRAINING_COMPLETE;var e=this.getCurrentQuestion(),r=[].concat(a(e.answer),[t]);return e.word.startsWith(r.join(""))?(e.answer=r,e.letters.splice(e.letters.indexOf(t),1),e.word.length===e.answer.length?(this.currentQuestionIndex+=1,c.QUESTION_SUCCESS):c.LETTER_SUCCESS):(e.errors+=1,3===e.errors?(this.currentQuestionIndex+=1,c.QUESTION_FAIL):c.LETTER_FAIL)}},{key:"getStats",value:function(){return{errorsCount:this.questions.reduce((function(t,e){return t+e.errors}),0),wordsWithoutErrors:this.questions.filter((function(t){return 0===t.errors})).length,questionWithMaxErrors:this.questions.reduce((function(t,e){return e.errors>t.errors?e:t}))}}}])&&s(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===f(o)?o:String(o)),n)}var o}var y=function(t){return t.Success="success",t.Failure="danger",t}(y||{});const d=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=new l,this.DEFAULT_DELAY_MS=500;var e=document.getElementById("answer"),r=document.getElementById("letters"),n=document.getElementById("trainer"),o=document.getElementById("results"),i=document.getElementById("current_question");if(!(e&&r&&n&&o&&i))throw new Error("UI DOM init fail");this.answerContainer=e,this.lettersContainer=r,this.trainerContainer=n,this.resultsContainer=o,this.currentQuestionContainer=i}var e,r;return e=t,(r=[{key:"clearAnswer",value:function(){this.answerContainer.replaceChildren()}},{key:"clearLetters",value:function(){this.lettersContainer.replaceChildren()}},{key:"renderAnswerLetter",value:function(t,e){var r=document.createElement("button");r.type="button",r.className="btn btn-".concat(e," mr-1 ml-1"),r.textContent=t,this.answerContainer.appendChild(r)}},{key:"renderFailedAnswer",value:function(t){var e=this;t.word.split("").forEach((function(t){e.renderAnswerLetter(t,y.Failure)})),this.game.isTrainingComplete?setTimeout((function(){e.renderResults()}),this.DEFAULT_DELAY_MS):setTimeout((function(){e.renderQuestion()}),this.DEFAULT_DELAY_MS)}},{key:"renderResults",value:function(){this.trainerContainer.classList.remove("d-flex"),this.trainerContainer.classList.add("d-none"),this.resultsContainer.classList.remove("d-none"),this.resultsContainer.classList.add("d-flex");var t=this.game.getStats();for(var e in t){var r,n=document.getElementById("metric-".concat(e));if(!n)throw new Error("Element for metric ".concat(e," not found"));"questionWithMaxErrors"===e?0===t.errorsCount?null===(r=n.parentElement)||void 0===r||r.remove():n.textContent=t[e].word:n.textContent="".concat(t[e])}}},{key:"renderQuestion",value:function(){var t=this;this.currentQuestionContainer.textContent="".concat(this.game.currentQuestionIndex+1),this.clearAnswer();var e=this.game.getCurrentQuestion();e.letters.forEach((function(r){var n=document.createElement("button");n.type="button",n.className="btn btn-primary mr-1 ml-1",n.dataset.letter=r,n.textContent=r,n.addEventListener("click",(function(){switch(t.game.selectLetter(r)){case c.LETTER_SUCCESS:n.remove(),t.renderAnswerLetter(r,y.Success);break;case c.QUESTION_SUCCESS:n.remove(),t.renderAnswerLetter(r,y.Success),t.game.isTrainingComplete?t.renderResults():t.renderQuestion();break;case c.LETTER_FAIL:n.classList.add("btn-danger"),setTimeout((function(){n.classList.remove("btn-danger")}),t.DEFAULT_DELAY_MS);break;case c.QUESTION_FAIL:t.clearAnswer(),t.clearLetters(),t.renderFailedAnswer(e)}})),t.lettersContainer.appendChild(n)}))}},{key:"handleKeydown",value:function(t){if(1===(e=t.key).length&&n.test(e)){var e,r=t.key.toLowerCase(),o=this.lettersContainer.querySelector('[data-letter="'.concat(r,'"]'));if(o instanceof HTMLButtonElement)o.click();else{var i=this.game.getCurrentQuestion();this.game.selectLetter("-")===c.QUESTION_FAIL&&(this.clearAnswer(),this.clearLetters(),this.renderFailedAnswer(i))}}}},{key:"render",value:function(){this.renderQuestion(),document.addEventListener("keydown",this.handleKeydown.bind(this),!1)}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}());window.addEventListener("DOMContentLoaded",(function(){d.render()}))})()})();